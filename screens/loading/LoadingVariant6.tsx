import React, { useEffect, useState } from 'react';
import { data } from '../../data';

interface LoadingVariantProps {
    onFinished: () => void;
}

const LoadingVariant6: React.FC<LoadingVariantProps> = ({ onFinished }) => {
    const [progress, setProgress] = useState(0);

    useEffect(() => {
        const timer = setInterval(() => {
            setProgress(prev => {
                if (prev >= 100) {
                    clearInterval(timer);
                    setTimeout(onFinished, 500);
                    return 100;
                }
                return prev + 1;
            });
        }, 30);
        return () => clearInterval(timer);
    }, [onFinished]);

    return (
        <div className="relative h-full w-full bg-[#0d1b2e] flex flex-col items-center justify-between py-12 px-6 overflow-hidden font-serif">
            {/* Background - Deep Navy */}
            <div className="absolute inset-0 z-0 bg-[#0d1b2e]" />

            {/* Content Container - Centered */}
            <div className="flex-1 flex flex-col items-center justify-center w-full z-10 gap-8">

                {/* Main Animation Area */}
                <div className="relative w-40 h-40 flex items-center justify-center mb-8">
                    {/* Outer Rings */}
                    <div
                        className="absolute inset-0 border border-[#4a9eff] rounded-full opacity-20"
                        style={{ transform: `scale(${1 + (progress / 100) * 0.5})`, opacity: 0.2 - (progress / 500) }}
                    />
                    <div
                        className="absolute inset-4 border border-[#4a9eff] rounded-full opacity-30 animate-[spin_10s_linear_infinite]"
                        style={{ borderStyle: 'dashed' }}
                    />

                    {/* Central Wedding Ring */}
                    <div className="relative z-10 transform transition-transform duration-500 hover:scale-110">
                        <svg
                            viewBox="0 0 2100 2100"
                            className="w-32 h-32 text-[#4a9eff] drop-shadow-[0_0_20px_rgba(74,158,255,0.7)]"
                            style={{ opacity: 0.5 + (progress / 200), fillRule: 'evenodd', clipRule: 'evenodd', strokeLinejoin: 'round', strokeMiterlimit: 2 }}
                        >
                            <g transform="matrix(1,0,0,1,0,-125.3)">
                                <g transform="matrix(12.03,0,0,12.03,-1927.2,-3727.2)">
                                    <path d="M218.8,379.4C218.6,379.2 218.3,379.1 218,379.3C217.8,379.5 217.7,379.8 217.9,380.1L219.6,382.3L218.7,388.4C218.7,388.7 218.9,388.9 219.2,389C219.5,389 219.7,388.8 219.8,388.5L220.7,382.3C220.7,382.1 220.7,382 220.6,381.9L218.8,379.4Z" fill="currentColor" />
                                    <path d="M204,379.4C203.9,379.5 203.8,379.7 203.8,379.8L202.7,387.6L198.2,389.4C197.9,389.5 197.8,389.8 197.9,390.1C198,390.4 198.3,390.5 198.6,390.4L203,388.6L206,392.7C206.1,392.9 206.2,392.9 206.4,392.9L214.5,394.1C214.6,394.1 214.8,394.1 214.9,394C218.8,391.1 219.1,390.5 219,390.3C218.8,390.1 218.4,390 218.2,390.2L214.4,393C206.7,391.9 203.7,387.8 204.8,380.2L208.9,377.1L216.3,378.2C216.6,378.3 216.9,378.1 216.9,377.8C217,377.5 216.8,377.2 216.5,377.2L208.8,376C208.7,376 208.5,376.1 208.4,376.1L204,379.4Z" fill="currentColor" />
                                    <path d="M218.4,376.6L220.5,374C220.7,373.8 220.7,373.4 220.4,373.2C220.2,373.1 219.9,373.1 219.7,373.3L217.6,376C217.4,376.2 217.4,376.6 217.7,376.7C217.9,376.9 218.2,376.9 218.4,376.6Z" fill="currentColor" />
                                    <path d="M202.4,379C202.7,379.2 203,379.2 203.2,379C203.4,378.7 203.3,378.4 203.1,378.2L200.8,376.4C200.6,376.2 200.3,376.3 200.1,376.5C199.9,376.7 199.9,377.1 200.2,377.3L202.4,379Z" fill="currentColor" />
                                    <path d="M215.8,395.2C215.7,394.9 215.3,394.8 215.1,394.9C214.8,395 214.7,395.3 214.8,395.6L216,398.6C216.1,398.8 216.4,399 216.7,398.9C216.9,398.8 217.1,398.4 217,398.2L215.8,395.2Z" fill="currentColor" />
                                    <path d="M222.4,381.9L225.2,380.8C225.4,380.7 225.6,380.3 225.5,380.1C225.4,379.8 225,379.7 224.8,379.8L222,380.9C221.7,381 221.6,381.3 221.7,381.6C221.8,381.8 222.1,382 222.4,381.9Z" fill="currentColor" />
                                    <path d="M204.6,393.9L202.8,396.1C202.7,396.3 202.7,396.7 202.9,396.8C203.2,397 203.5,397 203.7,396.8L205.4,394.6C205.6,394.3 205.6,394 205.3,393.8C205.1,393.6 204.8,393.7 204.6,393.9Z" fill="currentColor" />
                                    <path d="M323.1,386.6C322.9,389 322.1,391.7 321,394.6C321.2,391.1 320.4,388.3 319.2,386.1C317.5,383.2 315,381.3 312.8,380.3C311.9,379.9 311,379.6 310.3,379.4C310.1,379.3 309.9,379.4 309.7,379.4C306.5,378.8 302.3,379.5 297.8,380.8C290.7,383 282.7,387 276.3,390.7C273.3,392.5 270.7,394.2 268.7,395.6C268,396.1 267.2,396.6 266.5,397.2C266,397.5 265.5,397.9 265.1,398.3C263.7,397.1 262.2,396 260.6,394.9C270.7,387.3 282,381 292.9,377.5C302.2,374.6 311.1,373.8 318.6,376.3C321.4,379.9 323.4,384 323.1,386.6ZM294.5,425.3C285.2,432.6 274.5,438.5 264.6,442.1C261.9,443.2 259.2,444 256.6,444.7C253.8,444.9 250.9,444.7 248.2,444.1C246.1,443.5 244.2,442.7 242.7,441.4C241.7,440.6 241,439.6 240.5,438.3C244,441.1 251.5,439.6 260.5,435.7C265.3,433.5 270.6,430.6 276,427.3C281.3,424 286.7,420.3 291.7,416.4C305.9,405.4 317,393 316,385.3C316.5,385.9 316.9,386.5 317.3,387.2C318.7,389.7 319.4,393.1 318.3,397.6C318,399.2 317.4,400.8 316.6,402.6C316.1,403.5 315.4,404.4 314.8,405.3C310.1,411.6 303.4,418.4 294.5,425.3ZM240,445.7C237.1,445 234,441.8 231.7,438C231.5,437.7 231.4,437.4 231.2,437.1C231.3,432.2 233.1,426.9 236.1,421.5C239.3,415.8 243.9,410 249.4,404.5C251.2,405.6 252.9,406.7 254.4,407.8C252.2,410 250.1,412.2 248.1,414.5C246.1,416.8 244.3,419.2 242.8,421.5C240.8,424.5 239.3,427.4 238.6,430.1C238.5,430.3 238.5,430.5 238.5,430.7C238.4,430.8 238.3,431 238.2,431.1C237.7,433.3 237.6,435.2 237.9,436.9C238.3,439.5 239.5,441.5 241.3,443C243,444.5 245.2,445.5 247.6,446.1C247.7,446.2 247.8,446.2 247.9,446.2C244.9,446.4 242.2,446.3 240,445.7ZM219.1,427.9C216.5,427.2 213.8,426.5 211.1,425.7C200.7,422.4 192.4,418.5 186.1,414.3C185.7,414 185.3,413.7 184.9,413.5C184.9,413.2 184.8,412.9 184.5,412.7C182.4,411.1 180.5,408.8 179.2,406.2C178.3,404.4 177.7,402.5 177.7,400.7C177.6,399.1 177.9,397.6 178.8,396.4C179.1,397.1 179.6,397.8 180.2,398.6C181.9,400.9 184.5,403.3 185.5,404.1C190.6,408.3 197.1,412 204.3,415C211.5,418 219.4,420.2 227.1,421.7C226.6,423.1 226.2,424.5 225.9,425.8C225.7,426.8 225.7,428 225.8,429.2C223.6,428.8 221.4,428.4 219.1,427.9ZM172.3,400.1C171.8,399.1 171.6,397.8 171.6,396.4C171.6,396.4 171.6,396.3 171.6,396.2C172.2,392.7 175.2,389.9 179,387.9C183.9,385.2 190.1,383.9 194.2,383.9C194.1,385.4 194.2,386.9 194.5,388.4C191.9,388.6 187.4,389.4 184,390.5C182,391.1 180.2,391.9 179.2,392.8C178.5,393.4 177.8,394 177.2,394.7C175.9,396.5 175.4,398.6 175.5,400.8C175.6,402.8 176.2,404.9 177.1,406.9C175,404.6 173.4,402.4 172.3,400.1ZM178,383.2C180.7,381.6 183.6,380.5 186.8,379.8C189.5,379.2 192.4,378.9 195.4,378.8C195,379.7 194.7,380.7 194.5,381.7C190.1,381.7 183.3,383.1 178,386C176.2,386.9 174.6,388 173.3,389.3C174.5,386.6 176.2,384.3 178,383.2ZM199.7,370.5C200,370 200.5,369.6 201.1,369.4L201.1,369.4C201.6,369.2 202.2,369.3 202.6,369.5C202.8,369.5 203,369.7 203.2,369.8C201.9,370.6 200.7,371.5 199.6,372.5C199.5,372.4 199.5,372.4 199.5,372.3L199.5,372.3C199.3,371.7 199.4,371 199.7,370.5ZM218.9,372.1C222.2,373.9 224.8,377.1 226,381C227.1,385 226.5,389 224.6,392.3C224.4,392.7 224.2,393.1 223.9,393.5L221,391.2C220.7,391 220.4,391 220.2,391.3C220,391.5 220.1,391.8 220.3,392L223.3,394.3C221.4,396.7 218.8,398.5 215.7,399.4C211.8,400.5 207.7,399.9 204.4,398.1C201.1,396.2 198.5,393.1 197.4,389.1C196.2,385.2 196.8,381.2 198.7,377.8C200.3,375 202.8,372.6 206.1,371.3L207.5,374.9C207.6,375.2 207.9,375.3 208.2,375.2C208.5,375.1 208.6,374.8 208.5,374.5L207.1,371C207.3,370.9 207.4,370.8 207.6,370.8C211.5,369.7 215.6,370.2 218.9,372.1ZM224.4,372.9C225.1,372.7 225.7,372.8 226.2,373.1C226.8,373.4 227.2,373.9 227.3,374.5L227.3,374.5C227.5,375.1 227.5,375.6 227.3,376.1C227.2,376.3 227.1,376.5 226.9,376.6C226.2,375.3 225.3,374.1 224.2,373C224.3,373 224.3,372.9 224.4,372.9L224.4,372.9ZM244.6,423.4C245.3,423.4 245.9,423.4 246.6,423.4C247.5,423.3 248.4,423.3 249.2,423.2C250.9,423.1 256.1,422.4 260,421.2C261.5,420.7 262.8,420.1 263.7,419.4C263.9,420.6 263.8,421.8 263.3,423.1C262.8,424.4 261.7,425.8 259.9,427C257.9,428.4 255,429.7 250.9,430.6C247.8,430.8 244.5,430.9 241.1,430.8C241.1,430.8 241.1,430.7 241.1,430.7C241.7,428.5 242.9,426 244.6,423.4ZM256.4,409.4C257.9,410.7 259.7,412.4 261.1,414C262.2,415.4 262.9,416.6 262.8,417.2L262.8,417.3C262.6,417.9 261.2,418.5 259.3,419.1C255.7,420.3 250.7,421 249.1,421.1C248.2,421.1 247.4,421.2 246.5,421.2C246.4,421.2 246.2,421.2 246.1,421.2C247.3,419.6 248.6,417.9 250.1,416.2C252.1,413.9 254.2,411.6 256.4,409.4ZM243,398.6C237.9,396.2 232.5,394.1 227.4,392.5C228,391.3 228.4,390 228.7,388.7C228.8,388.7 228.8,388.7 228.9,388.8C235.5,390.1 250.4,395.2 260.2,403.7C266.2,409 270.2,415.5 269,423.3C268.9,423.6 269,423.9 269.2,424.1C268.6,424.8 268,425.4 267.3,425.9C265.7,427 263.7,427.9 261.4,428.6C263.4,427.2 264.7,425.5 265.3,423.8C266,422.1 266.1,420.3 265.8,418.6C265.4,416.8 264.6,415.1 263.6,413.7C263.5,413.6 263.4,413.5 263.3,413.4C263.1,413.2 262.9,412.9 262.7,412.7C261,410.6 258.7,408.5 257.1,407.2C257.1,407.1 257,407 257,407.1C256.9,406.9 256.7,406.8 256.6,406.8C256.5,406.7 256.3,406.6 256.2,406.5C252.7,403.8 248,401.1 243,398.6ZM228.4,426.3C229.2,422.7 230.9,418.7 233.5,414.6C236.2,410.3 239.7,405.8 243.8,401.5C245.1,402.1 246.3,402.7 247.5,403.4C242,408.9 237.4,414.7 234.2,420.4C231.8,424.8 230.1,429.1 229.4,433.2C228.5,430.6 228.1,428.2 228.4,426.3ZM223.7,397.7C223.8,397.7 223.8,397.8 223.8,397.9L223.8,397.9C224,398.5 223.9,399.1 223.6,399.7C223.3,400.2 222.8,400.6 222.2,400.8L222.2,400.8C221.7,400.9 221.2,400.9 220.7,400.7C220.5,400.6 220.3,400.5 220.1,400.4C221.4,399.6 222.7,398.7 223.7,397.7ZM196,394.1C196.1,393.9 196.2,393.7 196.4,393.5C197.1,394.9 198,396.1 199.1,397.2C199,397.2 198.9,397.2 198.9,397.2L198.9,397.2C198.2,397.4 197.6,397.3 197.1,397C196.6,396.7 196.1,396.3 196,395.6L196,395.6C195.8,395.1 195.9,394.6 196,394.1ZM180.5,394.6C180.5,394.6 180.5,394.6 180.5,394.5C180.9,394.3 181.3,394 181.8,393.8C182,393.7 182.1,393.5 182.2,393.4C182.9,393.1 183.7,392.8 184.6,392.5C188.1,391.4 192.7,390.7 195.1,390.5C195.1,390.7 195.2,390.9 195.3,391C194.5,391.6 194,392.3 193.6,393.1C193.2,394.1 193.2,395.2 193.4,396.3C193.5,396.3 193.5,396.4 193.5,396.4C193.9,397.7 194.7,398.7 195.8,399.3C196.9,399.9 198.2,400.1 199.5,399.8C199.6,399.7 199.6,399.7 199.6,399.7C200,399.6 200.3,399.5 200.6,399.3L200.7,399.2C200.9,399.2 201,399.1 201.1,399C201.8,399.5 202.4,399.9 203.2,400.3C207.1,402.5 211.8,403.2 216.4,401.9L216.4,401.9C216.8,401.8 217.2,401.6 217.6,401.5C218.2,402.2 219,402.8 219.8,403.2C220.8,403.5 221.8,403.6 222.8,403.3C222.9,403.3 222.9,403.3 223,403.2C224.3,402.9 225.3,402 225.9,400.9C226.5,399.8 226.7,398.5 226.3,397.2C226.3,397.2 226.3,397.1 226.3,397.1C226.2,396.8 226.1,396.5 225.9,396.2C225.8,396 225.7,395.8 225.6,395.6C225.8,395.2 226.1,394.8 226.4,394.4C231.3,396 236.5,398 241.4,400.3C237.4,404.6 233.9,408.9 231.3,413.2C230,415.4 228.8,417.5 227.9,419.6C220.2,418.2 212.3,416 205.1,413C198.1,410.1 191.8,406.5 186.9,402.5C186,401.7 183.5,399.4 181.9,397.3C181,396.2 180.4,395.1 180.5,394.6ZM312.8,383.9C312.8,384 312.9,384.1 313,384.2C316.4,390.2 304.9,402.9 290.1,414.4C285.1,418.2 279.8,421.9 274.6,425.1C269.3,428.4 264.2,431.2 259.4,433.3C250.4,437.3 243.3,438.8 241.4,435.6C241,434.9 240.8,434.2 240.8,433.4C246.6,433.6 252,433.3 256.7,432.4C261.6,431.5 265.8,430.1 268.8,428C271.8,426 273.6,422.3 274.3,418.4C275.1,414.3 274.6,409.9 272.7,406.8C271.2,404.5 269.3,402.2 267,400.1L268.1,399.3C268.8,398.7 269.5,398.2 270.2,397.7C272.1,396.3 274.7,394.6 277.6,393C283.8,389.3 291.7,385.4 298.6,383.3C305.1,381.3 310.6,380.9 312.8,383.9ZM254.3,393.9C261.2,398 267.2,402.8 270.5,408.2C272,410.7 272.4,414.4 271.8,417.9C271.7,418.5 271.5,419.1 271.4,419.7C271.1,412.8 267.1,406.9 261.6,402.1C251.5,393.3 236.1,388.1 229.3,386.6C229.2,386.6 229.1,386.6 229,386.6C229.1,385.6 229.1,384.6 229,383.6C236.6,385.4 246.1,389.1 254.3,393.9ZM284,373.3C293.2,369.4 302.1,367.5 309.3,368.8C311.3,369.2 313.7,371 316.1,373.4C308.9,371.9 300.7,372.8 292.2,375.5C280.9,379.1 269.1,385.7 258.7,393.6C257.7,393 256.7,392.3 255.6,391.7C255.4,391.5 255.1,391.4 254.9,391.3C263.8,383.9 274.1,377.4 284,373.3ZM320.6,374.6C317.3,370.4 313.1,366.9 309.8,366.3C302,364.9 292.6,366.8 283,370.9C272.6,375.2 261.8,382.1 252.4,389.9C244.5,385.6 235.8,382.4 228.8,380.8C228.7,380.8 228.6,380.8 228.6,380.8C228.5,380.6 228.5,380.5 228.4,380.3L228.4,380.3C228.3,379.9 228.2,379.5 228,379.1C228.8,378.6 229.3,377.9 229.7,377C230.1,376.1 230.2,375 229.9,373.9C229.9,373.9 229.8,373.8 229.8,373.8C229.4,372.5 228.6,371.5 227.5,370.9C226.4,370.3 225.1,370.1 223.8,370.4C223.7,370.4 223.7,370.4 223.6,370.5C223.3,370.6 223,370.7 222.7,370.8C222.5,370.9 222.3,371.1 222.2,371.2C221.5,370.7 220.9,370.2 220.1,369.8C216.2,367.7 211.5,367 206.9,368.3C206.5,368.4 206.1,368.5 205.7,368.7C205.1,368 204.4,367.4 203.6,367C202.6,366.7 201.5,366.6 200.5,366.9C200.4,366.9 200.4,366.9 200.3,366.9C199.1,367.3 198,368.2 197.4,369.2C196.8,370.3 196.6,371.6 197,372.9C197,373 197,373 197,373.1C197.1,373.4 197.3,373.7 197.4,374.1C197.5,374.2 197.6,374.4 197.8,374.6C197.4,375.1 197,375.6 196.7,376.1C193,376.2 189.5,376.6 186.2,377.3C182.8,378.1 179.7,379.2 176.7,381C173.9,382.6 171.4,386.4 170.1,390.4C168.8,394.2 168.5,398.4 169.9,401.3C172.5,406.4 177.4,411.6 184.6,416.4C191.2,420.8 199.7,424.8 210.3,428.1C213,429 215.8,429.8 218.5,430.4C221.1,431 223.7,431.5 226.3,431.9C227,434.4 228.1,436.9 229.5,439.3C232.1,443.6 235.8,447.4 239.4,448.3C245.8,449.9 255.3,448.4 265.5,444.6C275.6,440.8 286.6,434.8 296.1,427.4C305.2,420.3 312.1,413.3 316.9,406.8C322.2,399.5 325.1,392.7 325.7,386.8C326.1,383.5 323.8,378.7 320.6,374.6Z" fill="currentColor" />
                                </g>
                            </g>
                        </svg>
                    </div>

                    {/* Progress Circle (SVG) */}
                    <svg className="absolute inset-0 w-full h-full -rotate-90 transform">
                        <circle
                            cx="80"
                            cy="80"
                            r="36"
                            fill="none"
                            stroke="#1a3a5f"
                            strokeWidth="2"
                        />
                        <circle
                            cx="80"
                            cy="80"
                            r="36"
                            fill="none"
                            stroke="#4a9eff"
                            strokeWidth="2"
                            strokeDasharray={`${2 * Math.PI * 36}`}
                            strokeDashoffset={`${2 * Math.PI * 36 * (1 - progress / 100)}`}
                            strokeLinecap="round"
                            className="transition-all duration-300 ease-out"
                        />
                    </svg>
                </div>

                {/* Text Block */}
                <div className="text-center space-y-3 animate-fade-in-up">
                    <h1 className="text-3xl italic leading-tight text-white drop-shadow-md">
                        Preparing our special<br />day...
                    </h1>
                    <p className="text-[10px] tracking-[0.25em] uppercase font-sans font-medium text-[#4a9eff] opacity-80">
                        Please Wait
                    </p>
                </div>
            </div>

            {/* Bottom Info */}
            <div className="z-10 text-center opacity-70">
                <p className="serif-font text-2xl tracking-widest text-[#4a9eff] italic mb-2">
                    {data.couple.initials}
                </p>
                <p className="text-[10px] tracking-[0.2em] uppercase font-bold text-gray-400">
                    {data.wedding.dateString}
                </p>
            </div>

            {/* Bottom Progress Line (Subtle) */}
            <div className="absolute bottom-0 left-0 w-full h-[2px] bg-gray-800">
                <div
                    className="h-full bg-[#4a9eff] shadow-[0_0_10px_#4a9eff]"
                    style={{ width: `${progress}%`, transition: 'width 0.1s linear' }}
                />
            </div>
        </div>
    );
};

export default LoadingVariant6;
